<style type="text/css">
  td {
    word-wrap: break-word;
    word-break: break-all;
  }
</style>

<div class="container-fluid withnav">
  <div class="row">
    <div class="col-sm-10">
      <h1>{{'User #' + user.id}}</h1>    
    </div>
    <div class="col-sm-2">
      <label>User Search</label>
      <user-selector ng-model="selector.userId" initial-user="user"></user-selector>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-3">
      <div>
        <table class="table">
          <h2>Information</h2>
          <tr>
            <th>Name:</th>
            <td>{{user.name}}</td>
          </tr>
          <tr>
            <th>Email:</th>
            <td>{{user.email}}</td>
          </tr>
          <tr>
            <th>Telephone:</th>
            <td>{{user.telephone}}</td>
          </tr>
        </table>
        <button class="btn btn-primary" ng-click="getUserPin()" ng-if="adminService.isSuperAdmin()">Get PIN</button>
        
      </div>
    </div>
    <div class="col-sm-7" ng-if="routeCredits && routeCredits.length > 0">
      <h2>Route Credits</h2>
      <table class="table">
        <thead>
          <tr>
            <th>Tags</th>
            <th>Amount</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="credit in routeCredits">
            <td>{{ credit.tag }}</td>
            <td>{{ credit.balance | currency }}</td>
            <td><button class="btn btn-primary">Add credit</button></td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="col-sm-7" ng-if="!routeCredits || routeCredits.length == 0">
      <h3>No data to display</h3>
    </div>
    <div class="col-sm-2">
      <h2>Navigation</h2>
      <ul class="nav">
        <li><a ui-sref="^.bookings({userId: user.id})" title="">Bookings</a></li>
      </ul>
    </div>
  </div>
</div>